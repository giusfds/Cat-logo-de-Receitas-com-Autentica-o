<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Recipe List</title>
        <style>
            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
                font-family: Arial, sans-serif;
            }
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f0f2f5;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            width: 100%;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .header h2 {
            color: #333;
        }
        .menu-button {
            background-color: #333;
            color: #fff;
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .menu-button:hover {
            background-color: #555;
        }
        #menuOverlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            align-items: center;
            justify-content: center;
            z-index: 10;
        }
        .overlay-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .overlay-button {
            background-color: #333;
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            margin: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .overlay-button:hover {
            background-color: #555;
        }
        .filter {
            margin-bottom: 15px;
        }
        .filter input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .recipe-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .recipe-item {
            padding: 15px;
            border-bottom: 1px solid #ddd;
        }
        .recipe-item:last-child {
            border-bottom: none;
        }
        .recipe-details {
            margin-top: 10px;
        }
        .recipe-details p {
            margin: 5px 0;
            font-size: 0.9em;
        }
        .pagination {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }
        .pagination button {
            padding: 10px 15px;
            background-color: #333;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .pagination button:disabled {
            background-color: #aaa;
            cursor: not-allowed;
        }
        </style>
    </head>

    <body>
        <div class="container">
        <div class="header">
            <h2>Lista de Receitas</h2>
            <button class="menu-button" onclick="openMenu()">Menu</button>
        </div>
        <div class="filter">
            <input
            type="text"
            id="filterInput"
            placeholder="Filtrar por nome"
            oninput="filterRecipes()"
            />
        </div>
        <ul class="recipe-list" id="recipeList"></ul>
        <div class="pagination">
            <button onclick="prevPage()" id="prevButton">Anterior</button>
            <button onclick="nextPage()" id="nextButton">Próxima</button>
        </div>
        </div>

        <!-- Overlay Menu -->
        <div id="menuOverlay">
        <div class="overlay-content">
            <button class="overlay-button" onclick="navigateTo('listagem.html')">
            Listar Receitas
            </button>
            <button class="overlay-button" onclick="navigateTo('adicionar.html')">
            Adicionar Nova Receita
            </button>
            <button class="overlay-button" onclick="closeMenu()">
            Fechar Menu
            </button>
        </div>
        </div>

        <script>
        let currentPage = 1;
        const recipesPerPage = 5;
        let allRecipes = [];
        let filteredRecipes = [];

        // Menu functions
        function openMenu() {
            document.getElementById("menuOverlay").style.display = "flex";
        }

        function closeMenu() {
            document.getElementById("menuOverlay").style.display = "none";
        }

        function navigateTo(page) {
            window.location.href = page;
        }

        // Fetch recipes from the server
        async function fetchRecipes() {
            allRecipes = [
            {
                name: "Bolo de Chocolate",
                ingredients: "Farinha, açúcar, ovos, cacau em pó, manteiga",
                preparation:
                "Misture os ingredientes e leve ao forno por 40 minutos.",
                prepTime: "40 minutos",
                difficulty: "Fácil",
            },
            {
                name: "Torta de Maçã",
                ingredients: "Maçãs, açúcar, farinha, manteiga, canela",
                preparation:
                "Faça a massa, recheie com maçãs e leve ao forno por 50 minutos.",
                prepTime: "50 minutos",
                difficulty: "Médio",
            },
            {
                name: "Pão de Queijo",
                ingredients: "Polvilho doce, leite, queijo, ovos, óleo",
                preparation: "Misture tudo e asse por 30 minutos.",
                prepTime: "30 minutos",
                difficulty: "Fácil",
            },
            {
                name: "Pudim de Leite",
                ingredients: "Leite condensado, leite, ovos, açúcar",
                preparation:
                "Bata os ingredientes e asse em banho-maria por 1 hora.",
                prepTime: "1 hora",
                difficulty: "Médio",
            },
            {
                name: "Brigadeiro",
                ingredients: "Leite condensado, chocolate em pó, manteiga",
                preparation: "Misture tudo e cozinhe até engrossar.",
                prepTime: "20 minutos",
                difficulty: "Fácil",
            },
            ];
            filteredRecipes = allRecipes;
            renderRecipes();
        }

        // Render recipes on the page
        function renderRecipes() {
            const recipeList = document.getElementById("recipeList");
            recipeList.innerHTML = "";

            const start = (currentPage - 1) * recipesPerPage;
            const end = start + recipesPerPage;
            const recipesToDisplay = filteredRecipes.slice(start, end);

            recipesToDisplay.forEach((recipe) => {
            const li = document.createElement("li");
            li.className = "recipe-item";
            li.innerHTML = `
                            <h3>${recipe.name}</h3>
                            <div class="recipe-details">
                                <p><strong>Ingredientes:</strong> ${recipe.ingredients}</p>
                                <p><strong>Modo de Preparo:</strong> ${recipe.preparation}</p>
                                <p><strong>Tempo de Preparo:</strong> ${recipe.prepTime}</p>
                                <p><strong>Nível de Dificuldade:</strong> ${recipe.difficulty}</p>
                            </div>
                        `;
            recipeList.appendChild(li);
            });

            // Update pagination buttons
            document.getElementById("prevButton").disabled = currentPage === 1;
            document.getElementById("nextButton").disabled =
            end >= filteredRecipes.length;
        }

        // Filter recipes by name
        function filterRecipes() {
            const filterText = removeAccents(
            document.getElementById("filterInput").value.toLowerCase()
            );
            filteredRecipes = allRecipes.filter((recipe) =>
            removeAccents(recipe.name.toLowerCase()).includes(filterText)
            );
            currentPage = 1;
            renderRecipes();
        }

        // Remove accents from a string
        function removeAccents(str) {
            return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        }

        function prevPage() {
            if (currentPage > 1) {
            currentPage--;
            renderRecipes();
            }
        }

        function nextPage() {
            if (currentPage * recipesPerPage < filteredRecipes.length) {
            currentPage++;
            renderRecipes();
            }
        }

        // Simulate initial recipe loading
        fetchRecipes();
        </script>
    </body>
</html>
